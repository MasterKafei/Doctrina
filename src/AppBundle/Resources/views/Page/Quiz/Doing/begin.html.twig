{% extends '@Layout/Full/base.html.twig' %}

{% block body %}
    <div class="box box-info">
        <div class="box-header with-border">
            <h3>{{ quiz.title }}</h3>
        </div>
        <div class="box-body">
            <p>{{ quiz.description }}</p>
        </div>
        <div class="box-footer">
            {% if quiz.questions|length > 0 %}
                {% if quiz.resettable and answers|length > 0 %}
                    <a href="{{ path('app_quiz_reset_resetting', {'id': quiz.id}) }}" class="btn btn-danger pull-left">Reset quiz</a>
                {% endif %}

                {% if answers|length != quiz.questions|length %}
                    <a class="btn btn-success pull-right" {% if not ((quiz.startingDate is null or quiz.startingDate < date('now')) and (quiz.endingDate is null or quiz.endingDate > date('now'))) %} href="#" disabled{% else %}href="{{ path('app_quiz_do_doing', {'id': quiz.questions[0].id }) }}"{% endif %}>
                    {% if answers|length == 0 %}
                        Begin quiz
                    {% else %}
                        Continue quiz
                    {% endif %}
                    </a>
                {% else %}
                    <a href="{{ path('app_quiz_do_finish', {'id': quiz.id }) }}" class="btn btn-info pull-right">Result</a>
                {% endif %}
            {% else %}
                No question yet
            {% endif %}
        </div>
    </div>
{% endblock %}